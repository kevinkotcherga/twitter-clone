(this["webpackJsonpfrontend-app"]=this["webpackJsonpfrontend-app"]||[]).push([[0],{202:function(e,t){},344:function(e,t,r){},345:function(e,t,r){"use strict";r.r(t);var a=r(401),n=r(0),c=r.n(n),s=r(60),i=r.n(s),o=r(10),l=r(407),d=r(115),j=r(384),u=r(413),b=r(380),h=r(144),O=r(1),p=function(e){var t=Object(u.b)().toggleColorMode,r=Object(u.c)("dark","light"),a=Object(u.c)(h.a,h.b);return Object(O.jsx)(b.a,Object(o.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(r," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(O.jsx)(a,{})},e))},x=r(5),m=r(19),f=r(16),g=r(405),w=r(400),v=r(406),y=r(41),S=r.n(y),C=r(62),N=r(382),k=r(383),I=r(385),E=r(409),_=r(403),P=r(207),T=r(411),R=r(386),U=r(387),z=function(e,t){var r=t.type,a=t.payload;switch(r){case"LOGIN":return localStorage.setItem("authToken",JSON.stringify(a.auth_token)),localStorage.setItem("authEmail",JSON.stringify(a.email)),{isLoggedIn:!0,authToken:a.auth_token,authEmail:a.email};case"LOGOUT":return localStorage.setItem("authToken",JSON.stringify(null)),localStorage.setItem("authEmail",JSON.stringify(null)),localStorage.setItem("currentUser",JSON.stringify(null)),{isLoggedIn:!1,authToken:null,authEmail:null};default:throw new Error("Unhandled action type: ".concat(r))}},L=c.a.createContext(),A=c.a.createContext(),W=JSON.parse(localStorage.getItem("authToken")),D=JSON.parse(localStorage.getItem("authEmail")),F={isLoggedIn:!!W,authToken:W||null,authEmail:D||null},J=function(e){var t=e.children,r=c.a.useReducer(z,F),a=Object(x.a)(r,2),n=a[0],s=a[1];return Object(O.jsx)(L.Provider,{value:n,children:Object(O.jsx)(A.Provider,{value:s,children:t})})},M=function(){var e=c.a.useContext(L);if(void 0===e)throw new Error("useAuthState must be used within a AuthProvider");return e},q=function(){var e=c.a.useContext(A);if(void 0===e)throw new Error("useAuthDispatch must be used within a AuthProvider");return e},H=r(22),G=r.n(H),B="https://re-testing-heroku-yeah.herokuapp.com/",X={login:function(e){return G.a.post("".concat(B,"api/v1/login"),e)},logout:function(){return G.a.delete("".concat(B,"api/v1/logout"))},signup:function(e){return G.a.post("".concat(B,"api/v1/users"),e)}};G.a.defaults.baseURL="/";var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};G.a.defaults.headers={Accept:"application/json","Content-Type":"application/json"};var t=JSON.parse(localStorage.getItem("authToken")),r=JSON.parse(localStorage.getItem("authEmail"));t&&r&&(G.a.defaults.headers["X-Auth-Email"]=r,G.a.defaults.headers["X-Auth-Token"]=t),e(!1)},Y=function(e){return e&&(e.success=200===e.status,e.data.notice),e},Z=function(e){G.a.interceptors.response.use(Y,(function(t){return function(e,t){var r;return 401===(null===(r=e.response)||void 0===r?void 0:r.status)&&t({type:"LOGOUT"}),Promise.reject(e)}(t,e)}))},Q=function(e,t){var r=t.type,a=t.payload;switch(r){case"SET_USER":return localStorage.setItem("currentUser",JSON.stringify(a.user)),{user:a.user};default:throw new Error("Unhandled action type: ".concat(r))}},$=c.a.createContext(),K=c.a.createContext(),ee=JSON.parse(localStorage.getItem("currentUser")),te={user:ee||null},re=function(e){var t=e.children,r=c.a.useReducer(Q,te),a=Object(x.a)(r,2),n=a[0],s=a[1];return Object(O.jsx)($.Provider,{value:n,children:Object(O.jsx)(K.Provider,{value:s,children:t})})},ae=function(){var e=c.a.useContext($);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e},ne=function(){var e=c.a.useContext(K);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e},ce=["Accueil","Profile"],se=function(e){return Object(O.jsx)(N.a,{as:m.b,px:2,py:1,rounded:"md",_hover:{textDecoration:"none",bg:Object(u.c)("gray.200","gray.700")},to:"/".concat(e.link),children:e.link})},ie=function(){var e=ae().user,t=e?"".concat(e.first_name," ").concat(e.last_name):"user",r=Object(k.a)(),a=r.isOpen,n=r.onOpen,c=r.onClose,s=q(),i=function(){var e=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.logout();case 3:s({type:"LOGOUT"}),delete G.a.defaults.headers["X-Auth-Email"],delete G.a.defaults.headers["X-Auth-Token"],window.location.href="/",e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(j.a,{bg:Object(u.c)("gray.100","gray.900"),px:4,children:[Object(O.jsxs)(I.a,{h:16,alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(b.a,{size:"md",icon:a?Object(O.jsx)(R.a,{}):Object(O.jsx)(U.a,{}),"aria-label":"Open Menu",display:{md:a?"inherit":"none"},onClick:a?c:n}),Object(O.jsx)(E.a,{spacing:8,alignItems:"center",children:Object(O.jsx)(E.a,{as:"nav",spacing:4,display:{base:"none",md:"flex"},children:ce.map((function(e){return Object(O.jsx)(se,{link:e},e)}))})}),Object(O.jsx)(I.a,{alignItems:"center",children:Object(O.jsxs)(_.a,{children:[Object(O.jsx)(p,{justifySelf:"flex-end"}),Object(O.jsx)(_.b,{as:P.a,size:"sm",rounded:"full",variant:"link",cursor:"pointer",_hover:{textDecoration:"none"},children:Object(O.jsx)(T.a,{size:"sm",name:t})}),Object(O.jsxs)(_.d,{fontSize:17,children:[Object(O.jsx)(_.c,{as:m.b,to:"/profile",children:"My profile"}),Object(O.jsx)(_.c,{as:m.b,to:"/account/edit",children:"Change password"}),Object(O.jsx)(_.c,{onClick:i,children:"Logout"})]})]})})]}),a?Object(O.jsx)(j.a,{pb:4,children:Object(O.jsx)(E.b,{as:"nav",spacing:4,children:ce.map((function(e){return Object(O.jsx)(se,{link:e},e)}))})}):null]})})},oe=r(64),le="GET_TWEETS",de="ADD_TWEET",je="DELETE_TWEET",ue=function(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(oe.b)(),s=function(e){(e.preventDefault(),r)&&(c(function(e){return function(t){return G.a.post("api/v1/post_tweets",e).then((function(e){t({type:de,payload:e.data})})).catch((function(e){return console.log(e)}))}}({body:r,user_id:"f617d1e8-ab54-4093-8eb6-43a790672c28"})),a(""))};return Object(O.jsx)("div",{className:"form-container",children:Object(O.jsxs)("form",{onSubmit:function(e){return s(e)},children:[Object(O.jsx)("h1",{children:"Accueil"}),Object(O.jsx)("textarea",{placeholder:"Quoi de neuf ?",value:r,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)("input",{type:"submit",value:"Tweeter",className:"submit"})]})})},be=r(390),he=r(391),Oe=function(e){var t=e.tweet,r=Object(oe.b)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"icon",children:[Object(O.jsx)(be.a,{w:4,h:4}),Object(O.jsx)("span",{children:t.like})]}),Object(O.jsx)("div",{className:"icon",children:Object(O.jsx)(he.a,{w:4,h:4,onClick:function(){return r((e=t.id,function(t){return G()({method:"delete",url:"api/v1/post_tweets/".concat(e)}).then((function(){t({type:je,payload:{tweetId:e}})})).catch((function(e){return console.log(e)}))}));var e}})})]})},pe=function(e){var t=e.tweet;return Object(O.jsxs)("div",{className:"post",children:[Object(O.jsx)("p",{children:t.body}),Object(O.jsxs)(m.b,{className:"link",to:"/profile",children:["@",t.user.last_name]}),Object(O.jsx)("div",{className:"author",children:Object(O.jsx)(Oe,{tweet:t})})]})},xe=r(392);var me=function(){var e,t=Object(oe.c)((function(e){return e.tweetReducer}));return Object(O.jsx)(xe.a,{children:Object(O.jsxs)("div",{className:"container-home",children:[Object(O.jsx)(ue,{}),Object(O.jsx)("div",{className:"content",children:Object(O.jsx)("div",{className:"post-container",children:(e=t,!(void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length)&&t.map((function(e,t){return Object(O.jsx)(pe,{tweet:e},t.id)})))})})]})})},fe=r(393),ge=r(66),we=r(395),ve=r(410),ye=function(){var e=ae().user,t=Object(n.useState)(""),r=Object(x.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(""),i=Object(x.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(""),b=Object(x.a)(d,2),h=b[0],p=b[1];return Object(n.useEffect)((function(){e&&(c(e.email),l(e.first_name),p(e.last_name))}),[e]),Object(O.jsx)(I.a,{minH:"90vh",align:"center",justify:"center",bg:Object(u.c)("gray.50","gray.800"),children:Object(O.jsxs)(E.b,{spacing:5,mx:"auto",children:[Object(O.jsx)(E.b,{align:"center",children:Object(O.jsx)(fe.a,{fontSize:"2xl",children:"Profile"})}),Object(O.jsx)(j.a,{rounded:"lg",bg:Object(u.c)("white","gray.700"),boxShadow:"lg",minWidth:["16em","25em"],p:8,children:Object(O.jsxs)(E.b,{spacing:4,children:[Object(O.jsxs)(ge.a,{id:"email",children:[Object(O.jsx)(we.a,{children:"Email address"}),Object(O.jsx)(ve.a,{type:"email",value:a,isReadOnly:!0})]}),Object(O.jsxs)(ge.a,{id:"firstName",children:[Object(O.jsx)(we.a,{children:"First Name"}),Object(O.jsx)(ve.a,{type:"text",value:o,isReadOnly:!0})]}),Object(O.jsxs)(ge.a,{id:"lastName",children:[Object(O.jsx)(we.a,{children:"Last Name"}),Object(O.jsx)(ve.a,{type:"text",value:h,isReadOnly:!0})]})]})})]})})},Se=r(78),Ce=r(23),Ne=r(404),ke=r(414),Ie={updatePassword:function(e){return G.a.put("".concat("https://re-testing-heroku-yeah.herokuapp.com/","api/v1/password/update"),e)}},Ee=function(e){var t=e.history,r=ae().user,a=Object(n.useState)(!1),c=Object(x.a)(a,2),s=c[0],i=c[1],l=Object(Ne.a)(),d=Object(n.useState)(""),b=Object(x.a)(d,2),h=(b[0],b[1],Object(n.useState)("")),p=Object(x.a)(h,2),m=(p[0],p[1],Object(n.useState)("")),f=Object(x.a)(m,2),g=(f[0],f[1],Se.a({currentPassword:Se.c().required("Current password is required"),password:Se.c().required("New password is required"),confirmPassword:Se.c().required("Password confirmation is required").oneOf([Se.b("password"),null],"Passwords must match")})),w=function(){var e=Object(C.a)(S.a.mark((function e(a){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Ie.updatePassword({user:{email:r.email,current_password:a.currentPassword,password:a.password,password_confirmation:a.confirmPassword}});case 4:n=e.sent,c=n.data.notice,t.push("/"),l({description:c,status:"success",duration:1500,isClosable:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),l({description:e.t0.response.data.error,status:"error",duration:1500,isClosable:!0});case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(I.a,{minH:"90vh",align:"center",justify:"center",bg:Object(u.c)("gray.50","gray.800"),children:Object(O.jsxs)(E.b,{spacing:5,mx:"auto",children:[Object(O.jsx)(E.b,{align:"center",children:Object(O.jsx)(fe.a,{fontSize:"2xl",children:"Change Password"})}),Object(O.jsx)(j.a,{rounded:"lg",bg:Object(u.c)("white","gray.700"),boxShadow:"lg",minWidth:["16em","25em"],p:8,children:Object(O.jsx)(E.b,{spacing:4,children:Object(O.jsx)(Ce.c,{initialValues:{currentPassword:"",password:"",confirmPassword:""},validationSchema:g,onSubmit:function(e){w(e)},children:function(e){e.errors,e.touched;return Object(O.jsx)(Ce.b,{children:Object(O.jsxs)(E.b,{spacing:3,children:[Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"currentPassword",width:"100%",children:function(e){var t=e.field,r=e.form;return Object(O.jsxs)(ge.a,{isInvalid:r.errors.currentPassword&&r.touched.currentPassword,children:[Object(O.jsx)(we.a,{htmlFor:"currentPassword",children:"Current password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},t),{},{id:"currentPassword",type:"password",placeholder:"******"})),Object(O.jsx)(ke.a,{mt:0,children:r.errors.currentPassword})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"password",width:"100%",children:function(e){var t=e.field,r=e.form;return Object(O.jsxs)(ge.a,{isInvalid:r.errors.password&&r.touched.password,children:[Object(O.jsx)(we.a,{htmlFor:"password",children:"New password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},t),{},{id:"password",type:"password",placeholder:"******"})),Object(O.jsx)(ke.a,{mt:0,children:r.errors.password})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"confirmPassword",width:"100%",children:function(e){var t=e.field,r=e.form;return Object(O.jsxs)(ge.a,{isInvalid:r.errors.confirmPassword&&r.touched.confirmPassword,children:[Object(O.jsx)(we.a,{htmlFor:"confirmPassword",children:"Confirm password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},t),{},{id:"confirmPassword",type:"password",placeholder:"******"})),Object(O.jsx)(ke.a,{mt:0,children:r.errors.confirmPassword})]})}})}),Object(O.jsx)(E.b,{spacing:10,children:Object(O.jsx)(P.a,{isLoading:s,bg:"blue.400",color:"white",_hover:{bg:"blue.500"},type:"submit",children:"Update"})})]})})}})})})]})})},_e=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ie,{}),Object(O.jsx)(j.a,{children:Object(O.jsxs)(f.d,{children:[Object(O.jsx)(f.b,{exact:!0,path:"/home",component:me}),Object(O.jsx)(f.b,{exact:!0,path:"/account/edit",component:Ee}),Object(O.jsx)(f.b,{exact:!0,path:"/profile",component:ye}),Object(O.jsx)(f.a,{from:"/",to:"/home"})]})})]})},Pe=r(208),Te=function(e){var t=e.component,r=e.condition,a=e.path,n=e.redirectRoute,c=Object(Pe.a)(e,["component","condition","path","redirectRoute"]);return r?Object(O.jsx)(f.b,Object(o.a)({path:a,component:t},c)):Object(O.jsx)(f.a,{to:{pathname:n,from:c.location}})},Re=r(396),Ue=r(398),ze=r(397),Le=function(e){var t=e.path,r=e.text;return Object(O.jsx)(N.a,{as:m.b,to:t,color:"blue.500",_hover:{color:"blue.300",textDecoration:"none"},children:r})};function Ae(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)("initial"),s=Object(x.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(x.a)(l,2),b=d[0],h=d[1];return Object(O.jsx)(I.a,{minH:"100vh",align:"center",justify:"center",bg:Object(u.c)("gray.50","gray.800"),children:Object(O.jsxs)(E.b,{spacing:5,mx:"auto",maxW:"lg",py:8,px:6,children:[Object(O.jsx)(E.b,{align:"center",children:Object(O.jsx)(fe.a,{fontSize:"4xl",children:"Forgot your password?"})}),Object(O.jsxs)(Re.a,{bg:Object(u.c)("white","whiteAlpha.100"),boxShadow:"xl",rounded:"lg",p:6,minWidth:["16em","20em"],direction:"column",children:[Object(O.jsxs)(E.b,{justifyContent:"center",direction:{base:"column",md:"row"},as:"form",onSubmit:function(e){e.preventDefault(),h(!1),o("submitting"),setTimeout((function(){if("fail@example.com"===r)return h(!0),void o("initial");o("success")}),1e3)},children:[Object(O.jsx)(ge.a,{children:Object(O.jsx)(ve.a,{variant:"solid",borderWidth:1,color:"gray.800",_placeholder:{color:"gray.400"},borderColor:Object(u.c)("gray.300","gray.700"),id:"email",type:"email",required:!0,placeholder:"Your Email","aria-label":"Your Email",value:r,disabled:"initial"!==i,onChange:function(e){return a(e.target.value)}})}),Object(O.jsx)(ge.a,{w:{base:"100%",md:"40%"},children:Object(O.jsx)(P.a,{colorScheme:"success"===i?"green":"blue",isLoading:"submitting"===i,w:"100%",type:"success"===i?"button":"submit",children:"success"===i?Object(O.jsx)(ze.a,{}):"Submit"})})]}),Object(O.jsx)(Ue.a,{mt:2,textAlign:"center",color:b?"red.500":"gray.500",children:b?"Oh no an error occured! \ud83d\ude22 Please try again later.":"You won't receive any spam! \u270c\ufe0f"})]}),Object(O.jsx)(j.a,{px:8,children:Object(O.jsxs)(E.a,{justifyContent:"space-between",textAlign:"center",children:[Object(O.jsx)(Le,{text:"Back",path:"/signin"}),Object(O.jsx)(Le,{text:"Signup",path:"/signup"})]})})]})})}var We=function(e){var t;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t="Invalid email address"):t="Required",t},De=function(e){var t;return e?e.length<5&&(t="Must be 6 characters or more"):t="Required",t},Fe=function(e){var t;return e||(t="Required"),t},Je=function(e){var t=e.path,r=e.text;return Object(O.jsx)(N.a,{as:m.b,to:t,color:"blue.500",_hover:{color:"blue.300",textDecoration:"none"},children:r})},Me=function(e){var t=e.history,r=Object(n.useState)({email:"",password:""}),a=Object(x.a)(r,2),c=a[0],s=(a[1],Object(n.useState)(!1)),i=Object(x.a)(s,2),l=i[0],d=i[1],b=q(),h=ne(),p=Object(Ne.a)(),m=function(){var e=Object(C.a)(S.a.mark((function e(r){var a,n,c,s,i,o,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.email,n=r.password,e.prev=1,d(!0),e.next=5,X.login({user:{email:a,password:n}});case 5:c=e.sent,s=c.data,i=s.auth_token,o=s.user,l=s.is_admin,b({type:"LOGIN",payload:{auth_token:i,email:a,is_admin:l}}),h({type:"SET_USER",payload:{user:o}}),V(),t.push("/"),p({description:"Logged in successfully.",status:"success",duration:1500,isClosable:!0}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),p({description:"Incorrect email or password",status:"error",duration:1500,isClosable:!0});case 20:return e.prev=20,d(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(I.a,{minH:"100vh",align:"center",justify:"center",bg:Object(u.c)("gray.50","gray.800"),children:Object(O.jsxs)(E.b,{spacing:5,mx:"auto",maxW:"lg",py:8,px:6,children:[Object(O.jsx)(E.b,{align:"center",children:Object(O.jsx)(fe.a,{fontSize:"4xl",children:"Sign In"})}),Object(O.jsx)(j.a,{rounded:"lg",bg:Object(u.c)("white","gray.700"),boxShadow:"lg",minWidth:["16em","20em"],p:8,children:Object(O.jsx)(Ce.c,{enableReinitialize:!0,initialValues:c,onSubmit:function(e,t){m(e)},children:function(e){var t=e.values,r=e.handleChange,a=e.handleSubmit;e.isSubmitting;return Object(O.jsx)("form",{onSubmit:a,children:Object(O.jsxs)(E.b,{spacing:4,children:[Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"email",validate:We,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.email&&n.touched.email,children:[Object(O.jsx)(we.a,{htmlFor:"email",children:"Email *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{id:"email",placeholder:"Email",value:t.email,onChange:r})),Object(O.jsx)(ke.a,{children:n.errors.email})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"password",validate:De,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.password&&n.touched.password,children:[Object(O.jsx)(we.a,{htmlFor:"password",children:"Password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{type:"password",id:"password",placeholder:"******",value:t.password,onChange:r})),Object(O.jsx)(ke.a,{children:n.errors.password})]})}})}),Object(O.jsx)(E.b,{spacing:10,children:Object(O.jsx)(P.a,{isLoading:l,bg:"blue.400",color:"white",_hover:{bg:"blue.500"},type:"submit",children:"Sign in"})})]})})}})}),Object(O.jsx)(j.a,{px:8,children:Object(O.jsxs)(E.a,{justifyContent:"space-between",children:[Object(O.jsx)(Je,{text:"Signup",path:"/signup"}),Object(O.jsx)(Je,{text:"Forgot password?",path:"/my/password/new"})]})})]})})},qe=function(e){var t=e.path,r=e.text;return Object(O.jsx)(N.a,{as:m.b,to:t,color:"blue.500",_hover:{color:"blue.300",textDecoration:"none"},children:r})},He=function(e){var t=e.history,r=Object(n.useState)({email:"",firstName:"",lastName:"",password:"",passwordConfirmation:""}),a=Object(x.a)(r,2),c=a[0],s=(a[1],Object(n.useState)(!1)),i=Object(x.a)(s,2),l=i[0],d=i[1],b=Object(Ne.a)(),h=q(),p=ne(),m=function(){var e=Object(C.a)(S.a.mark((function e(r){var a,n,c,s,i,o,l,j,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.email,n=r.firstName,c=r.lastName,s=r.password,i=r.passwordConfirmation,e.prev=1,d(!0),e.next=5,X.signup({user:{email:a,first_name:n,last_name:c,password:s,password_confirmation:i}});case 5:o=e.sent,l=o.data,j=l.user,u=l.auth_token,h({type:"LOGIN",payload:{auth_token:u,email:a,is_admin:!1}}),p({type:"SET_USER",payload:{user:j}}),t.push("/"),b({description:"Sign up successfully.",status:"success",duration:1500,isClosable:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),b({description:e.t0.response.data.error,status:"error",duration:1500,isClosable:!0});case 18:return e.prev=18,d(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(I.a,{minH:"100vh",align:"center",justify:"center",bg:Object(u.c)("gray.50","gray.800"),children:Object(O.jsxs)(E.b,{spacing:5,mx:"auto",maxW:"lg",py:8,px:6,children:[Object(O.jsx)(E.b,{align:"center",children:Object(O.jsx)(fe.a,{fontSize:"4xl",children:"Sign Up"})}),Object(O.jsx)(j.a,{rounded:"lg",bg:Object(u.c)("white","gray.700"),boxShadow:"lg",minWidth:["16em","25em"],px:8,py:6,children:Object(O.jsx)(Ce.c,{enableReinitialize:!0,initialValues:c,onSubmit:function(e,t){m(e)},children:function(e){var t=e.values,r=e.handleChange,a=e.handleSubmit;e.isSubmitting;return Object(O.jsx)("form",{onSubmit:a,children:Object(O.jsxs)(E.b,{spacing:3,children:[Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"email",validate:We,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.email&&n.touched.email,children:[Object(O.jsx)(we.a,{htmlFor:"email",children:"Email *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{id:"email",placeholder:"Email",value:t.email,onChange:r})),Object(O.jsx)(ke.a,{mt:0,children:n.errors.email})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"firstName",validate:Fe,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.firstName&&n.touched.firstName,children:[Object(O.jsx)(we.a,{htmlFor:"firstName",children:"First name *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{id:"firstName",placeholder:"Muhammad",value:t.firstName,onChange:r})),Object(O.jsx)(ke.a,{mt:0,children:n.errors.firstName})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"lastName",validate:Fe,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.lastName&&n.touched.lastName,children:[Object(O.jsx)(we.a,{htmlFor:"lastName",children:"Last name *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{id:"lastName",placeholder:"Ahmad",value:t.lastName,onChange:r})),Object(O.jsx)(ke.a,{mt:0,children:n.errors.lastName})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"password",validate:De,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.password&&n.touched.password,children:[Object(O.jsx)(we.a,{htmlFor:"password",children:"Password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{type:"password",id:"password",placeholder:"******",value:t.password,onChange:r})),Object(O.jsx)(ke.a,{mt:0,children:n.errors.password})]})}})}),Object(O.jsx)(j.a,{children:Object(O.jsx)(Ce.a,{name:"passwordConfirmation",validate:De,width:"100%",children:function(e){var a=e.field,n=e.form;return Object(O.jsxs)(ge.a,{isInvalid:n.errors.passwordConfirmation&&n.touched.passwordConfirmation,children:[Object(O.jsx)(we.a,{htmlFor:"passwordConfirmation",children:"Confirm password *"}),Object(O.jsx)(ve.a,Object(o.a)(Object(o.a)({},a),{},{type:"password",id:"passwordConfirmation",placeholder:"******",value:t.passwordConfirmation,onChange:r})),Object(O.jsx)(ke.a,{mt:0,children:n.errors.passwordConfirmation})]})}})}),Object(O.jsx)(E.b,{spacing:10,children:Object(O.jsx)(P.a,{isLoading:l,bg:"blue.400",color:"white",_hover:{bg:"blue.500"},type:"submit",children:"Sign up"})})]})})}})}),Object(O.jsx)(j.a,{px:8,minWidth:["16em","25em"],children:Object(O.jsx)(E.a,{justifyContent:"center",children:Object(O.jsx)(qe,{text:"Login",path:"/signin"})})})]})})},Ge=r(415),Be=r(412),Xe=r(399),Ve=r(206);function Ye(){return Object(O.jsx)(Re.a,{maxW:"7xl",children:Object(O.jsxs)(E.b,{align:"center",spacing:{base:8,md:10},py:{base:20,md:28},direction:{base:"column",md:"row"},children:[Object(O.jsxs)(E.b,{flex:1,spacing:{base:5,md:10},children:[Object(O.jsxs)(fe.a,{lineHeight:1.1,fontWeight:600,fontSize:{base:"3xl",sm:"4xl",lg:"6xl"},children:[Object(O.jsx)(Ue.a,{as:"span",position:"relative",_after:{content:"''",width:"full",height:"30%",position:"absolute",bottom:1,left:0,bg:"red.400",zIndex:-1},children:"Twitter Clone"}),Object(O.jsx)("br",{}),Object(O.jsx)(Ue.a,{as:"span",color:"red.400",children:"React + Rails"})]}),Object(O.jsx)(I.a,{justifyContent:"center",textAlign:"left",children:Object(O.jsxs)(Ge.b,{children:[Object(O.jsx)(Ge.a,{children:"Uses React on Front-end."}),Object(O.jsx)(Ge.a,{children:"Uses Context API for state management."}),Object(O.jsx)(Ge.a,{children:"Uses Rails on Back-end."}),Object(O.jsx)(Ge.a,{children:"Uses ChakraUI for UI."}),Object(O.jsx)(Ge.a,{children:"Uses Devise for User authentication(token based)."}),Object(O.jsx)(Ge.a,{children:"Uses PostgreSQL database."})]})}),Object(O.jsxs)(E.b,{spacing:{base:4,sm:6},direction:{base:"column",sm:"row"},children:[Object(O.jsx)(P.a,{rounded:"full",size:"lg",fontWeight:"normal",px:6,colorScheme:"red",bg:"red.400",_hover:{bg:"red.500"},as:m.b,to:"/login",children:"Sign in"}),Object(O.jsx)(P.a,{rounded:"full",size:"lg",fontWeight:"normal",px:6,as:m.b,to:"/signup",children:"Sign up"}),Object(O.jsx)(P.a,{rounded:"full",size:"lg",fontWeight:"normal",px:6,children:Object(O.jsx)(p,{rounded:"full",size:"lg",fontWeight:"normal",px:6})})]})]}),Object(O.jsxs)(I.a,{flex:1,justify:"center",align:"center",position:"relative",w:"full",children:[Object(O.jsx)(Qe,{w:"150%",h:"150%",position:"absolute",top:"-20%",left:0,zIndex:-1,color:Object(u.c)("red.50","red.400")}),Object(O.jsxs)(j.a,{position:"relative",height:"300px",rounded:"2xl",boxShadow:"2xl",width:"full",overflow:"hidden",children:[Object(O.jsx)(b.a,{"aria-label":"Play Button",variant:"ghost",_hover:{bg:"transparent"},icon:Object(O.jsx)(Ze,{w:12,h:12}),size:"lg",color:"white",position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"}),Object(O.jsx)(Be.a,{alt:"Hero Image",fit:"cover",align:"center",w:"100%",h:"100%",src:"https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=800&q=80"})]})]})]})})}var Ze=Object(Xe.a)({displayName:"PlayIcon",viewBox:"0 0 58 58",d:"M28.9999 0.562988C13.3196 0.562988 0.562378 13.3202 0.562378 29.0005C0.562378 44.6808 13.3196 57.438 28.9999 57.438C44.6801 57.438 57.4374 44.6808 57.4374 29.0005C57.4374 13.3202 44.6801 0.562988 28.9999 0.562988ZM39.2223 30.272L23.5749 39.7247C23.3506 39.8591 23.0946 39.9314 22.8332 39.9342C22.5717 39.9369 22.3142 39.8701 22.0871 39.7406C21.86 39.611 21.6715 39.4234 21.5408 39.1969C21.4102 38.9705 21.3421 38.7133 21.3436 38.4519V19.5491C21.3421 19.2877 21.4102 19.0305 21.5408 18.8041C21.6715 18.5776 21.86 18.3899 22.0871 18.2604C22.3142 18.1308 22.5717 18.064 22.8332 18.0668C23.0946 18.0696 23.3506 18.1419 23.5749 18.2763L39.2223 27.729C39.4404 27.8619 39.6207 28.0486 39.7458 28.2713C39.8709 28.494 39.9366 28.7451 39.9366 29.0005C39.9366 29.2559 39.8709 29.507 39.7458 29.7297C39.6207 29.9523 39.4404 30.1391 39.2223 30.272Z"}),Qe=function(e){return Object(O.jsx)(Ve.a,Object(o.a)(Object(o.a)({width:"100%",viewBox:"0 0 578 440",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M239.184 439.443c-55.13-5.419-110.241-21.365-151.074-58.767C42.307 338.722-7.478 282.729.938 221.217c8.433-61.644 78.896-91.048 126.871-130.712 34.337-28.388 70.198-51.348 112.004-66.78C282.34 8.024 325.382-3.369 370.518.904c54.019 5.115 112.774 10.886 150.881 49.482 39.916 40.427 49.421 100.753 53.385 157.402 4.13 59.015 11.255 128.44-30.444 170.44-41.383 41.683-111.6 19.106-169.213 30.663-46.68 9.364-88.56 35.21-135.943 30.551z",fill:"currentColor"})}))},$e=r(408),Ke=function(){return Object(O.jsx)(I.a,{position:"fixed",left:0,right:0,bottom:0,top:0,alignItems:"center",justifyContent:"center",bg:"white",zIndex:999,children:Object(O.jsx)($e.a,{thickness:"4px",color:"gray.400"})})},et=function(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],s=a[1],i=M().authToken,o=ne(),l=q(),d=!Object(g.a)(w.a,v.a)(i);return Object(n.useEffect)((function(){console.log(e),(null===e||void 0===e?void 0:e.user)&&o({type:"SET_USER",payload:{user:e.user}}),r(220).useDefaults(),Z(l),V(s)}),[]),c?Object(O.jsx)(Ke,{}):Object(O.jsx)(m.a,{children:Object(O.jsxs)(f.d,{children:[Object(O.jsx)(f.b,{exact:!0,path:"/my/password/new",component:Ae}),Object(O.jsx)(f.b,{exact:!0,path:"/signup",component:He}),!d&&Object(O.jsx)(f.b,{exact:!0,path:"/",component:Ye}),Object(O.jsx)(f.b,{exact:!0,path:"/login",component:Me}),Object(O.jsx)(Te,{path:"/",redirectRoute:"/login",condition:d,component:_e})]})})};var tt=function(e){return Object(n.useEffect)((function(){fetch("api/v1/users").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]),Object(O.jsx)(J,{children:Object(O.jsx)(re,{children:Object(O.jsx)(l.a,{theme:d.theme,children:Object(O.jsx)(j.a,{textAlign:"center",fontSize:"xl",children:Object(O.jsx)(et,Object(o.a)({},e))})})})})},rt=(r(344),r(77)),at=r(200),nt=r(203),ct=r(8),st={};var it=r(202),ot=r.n(it),lt=Object(rt.combineReducers)({tweetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return t.payload;case de:return[t.payload].concat(Object(ct.a)(e));case je:return e.filter((function(e){return e.id!==t.payload.tweetId}));default:return e}},userReducer:ot.a}),dt=Object(rt.createStore)(lt,Object(at.composeWithDevTools)(Object(rt.applyMiddleware)(nt.a)));dt.dispatch((function(e){return G.a.get("api/v1/post_tweets").then((function(t){e({type:le,payload:t.data})})).catch((function(e){return console.log(e)}))})),i.a.render(Object(O.jsxs)(oe.a,{store:dt,children:[Object(O.jsx)(a.a,{}),Object(O.jsx)(tt,{})]}),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.6f9bf156.chunk.js.map